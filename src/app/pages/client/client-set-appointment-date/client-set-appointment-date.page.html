<ion-header class="custom-header">
  <ion-toolbar class="toolbar">
    <ion-buttons slot="start">
      <ion-back-button icon="assets/icons/back.svg" text="" class="custom-back-button"></ion-back-button>
    </ion-buttons>
    <ion-title>Lawyer Detail</ion-title>
    <ion-buttons slot="end">
      <ion-button class="favorite-button">
        <img src="assets/icons/heart.svg" alt="Favorite" />
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="appointment-content">
  <div class="profile-section">
    <img src="assets/images/lawyer-image.jpg" alt="Lawyer" class="lawyer-image" />
    <div class="stats">
      <div class="stat">
        <img src="assets/icons/heart.svg" alt="Consults" />
        <p class="stat-number">150+</p>
        <p class="stat-label">Consults</p>
      </div>
      <div class="stat">
        <img src="assets/icons/crown.svg" alt="Experience" />
        <p class="stat-number">10 years</p>
        <p class="stat-label">Experience</p>
      </div>
      <div class="stat">
        <img src="assets/icons/star.svg" alt="Rating" />
        <p class="stat-number">4.9</p>
        <p class="stat-label">Rating</p>
      </div>
    </div>
  </div>

  <div class="selection-section">
    <div class="month-selector">
      <button (click)="prevMonth()" [disabled]="isPrevDisabled">&#10094;</button>
      <span>{{ months[currentMonthIndex] }} {{ selectedYear }}</span>
      <button (click)="nextMonth()">&#10095;</button>
    </div>

    <div *ngIf="isLoadingDates" class="shimmer-placeholder"></div>

    <div *ngIf="!isLoadingDates" 
      class="date-scroll-wrapper"
      [class.slide-left]="slideDirection === 'left'"
      [class.slide-right]="slideDirection === 'right'"
      (touchstart)="onTouchStart($event)" 
      (touchend)="onTouchEnd($event)">
    
    <div class="date-scroll">
      <button
        *ngFor="let date of dates"
        [class.selected]="date.date === selectedDate?.date && date.month === selectedDate?.month"
        (click)="selectDate(date)"
        class="date-button animate-tap"
      >
        <p class="day">{{ date.day }}</p>
        <p class="date">{{ date.date }}</p>
      </button>
    </div>

  </div>



    <div class="slot-section">
      <h3>Morning Slots</h3>
      <div class="slot-row">
        <button
          *ngFor="let slot of morningSlots"
          [class.selected]="selectedSlot === slot"
          (click)="selectSlot(slot)"
          class="slot-button animate-tap"
          [disabled]="slot.disabled"
        >
          {{ slot.time }}
        </button>
      </div>

      <h3>Afternoon Slots</h3>
      <div class="slot-row">
        <button
          *ngFor="let slot of afternoonSlots"
          [class.selected]="selectedSlot === slot"
          (click)="selectSlot(slot)"
          class="slot-button animate-tap"
          [disabled]="slot.disabled"
        >
          {{ slot.time }}
        </button>
      </div>

      <h3>Evening Slots</h3>
      <div class="slot-row">
        <button
          *ngFor="let slot of eveningSlots"
          [class.selected]="selectedSlot === slot"
          (click)="selectSlot(slot)"
          class="slot-button animate-tap"
          [disabled]="slot.disabled"
        >
          {{ slot.time }}
        </button>
      </div>
    </div>
  </div>
</ion-content>

<ion-footer class="footer">
  <ion-button expand="block" class="appointment-button">
    Continue
  </ion-button>
</ion-footer>
